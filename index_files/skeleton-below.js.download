jQuery(document).ready(function(){function e(){var e=o(".kartra-sticking-topmenu");s.on("scroll",function(){e.each(function(e,t){var a=o(t);a.attr("is-hidden-section")||a.attr("is-delayed-section")||(s.scrollTop()>300&&!a.hasClass("kartra-floating-topmenu")?(n.css("top",a.height()),n.css("position","relative"),a.addClass("kartra-floating-topmenu"),a.hide(),a.fadeIn()):s.scrollTop()<300&&a.hasClass("kartra-floating-topmenu")&&(a.removeClass("kartra-floating-topmenu"),n.css("top",0)))})})}function t(e){var t=1e3*parseInt(e.attr("data-delay-duration"),10),a=isFirstVisit(),r=function(e){e.addClass("js_delay_loaded"),e[0].dispatchEvent(new Event("kartra_show_hidden_asset")),e.find(".js_delayed").each(function(e,t){var a=jQuery(t);try{window.kartra.pages.init[a.attr("data-delayed-type")](a)}catch(e){}}),e.find("*[delay-replace-src]").each(function(e,t){var a=jQuery(t);a.attr("src",a.attr("delay-replace-src")),a.attr("delay-replace-src","")})};a&&"first"===e.attr("data-delay-reocur")?(e.show(),e.removeAttr("is-delayed-section"),r(e)):setTimeout(function(){e.fadeIn(500),e.removeAttr("is-delayed-section"),r(e)},t)}function a(e){return e.className.split(" ").filter(function(e){return-1!==e.indexOf("_share")})[0]}function r(e){var t={facebook_share:{winHeight:400,winWidth:555,link:"http://www.facebook.com/sharer/sharer.php?u="},twitter_share:{winHeight:350,winWidth:520,link:"http://twitter.com/intent/tweet?text="},pinterest_share:{winHeight:450,winWidth:770,link:"http://pinterest.com/pin/create/button?url="},google_share:{winHeight:500,winWidth:400,link:"https://plus.google.com/share?url="},linkedin_share:{winHeight:460,winWidth:550,link:"http://www.linkedin.com/shareArticle?mini=true&url="}},a=t[e],r=screen.height/2-a.winHeight/2,i=screen.width/2-a.winWidth/2;window.open(a.link+window.location.href,"sharer","top="+r+",left="+i+",toolbar=0,status=0,width="+a.winWidth+",height="+a.winHeight)}function i(){jQuery(".row--full-screen,.content--full-screen").each(function(){jQuery(this).css({"min-height":window.innerHeight+"px"}),jQuery(this).css({height:"auto"})})}var o=jQuery,n=o("body"),s=o(window);o('[id^="checkout_frame_"], [id^="checkoutform_frame_"]').each(function(e,t){var a=o(t),r=a.attr("src"),i="function"==typeof uniqueString?uniqueString():e,n="";if(a.addClass("js_checkout_"+i),window.location.search){var s=window.location.search;"?"===s.charAt(0)&&(s=s.substring(1)),n="?"+s}if(""===r){var d=a.attr("delay-replace-src");void 0!==d&&(-1!==d.indexOf("?")&&(n="&"+s),a.attr("delay-replace-src",d+n+"#js_checkout_"+i))}else-1!==r.indexOf("?")&&(n="&"+s),a.attr("src",r+n+"#js_checkout_"+i)}),"function"!=typeof window.onMessage_frame&&(window.onMessage_frame=function(e){if(void 0!==e.data&&"close"===e.data.func&&void 0===e.data.pop&&jQuery('[id^="checkoutform_"]').hide(),void 0!==e.data&&"on"===e.data.redirect&&(window.parent.location=e.data.url),void 0!==e.data&&"resize"==e.data.func&&void 0!==e.data["unique-id"]&&""!==e.data["unique-id"]){var t=o("."+e.data["unique-id"]);t.length&&(t.css("height",e.data.height+"px"),t.parent().css("height",e.data.height+"px"))}if(void 0!==e.data&&"kartra_reference_id_loaded"==e.data.func&&void 0!==e.data["unique-id"]&&""!==e.data["unique-id"]){var t=jQuery("."+e.data["unique-id"]);t.length&&(actionEvent=new CustomEvent("kartraReferenceIdLoaded",{detail:e.data.uuid}),t.parents(".checkout_form_container")[0].dispatchEvent(actionEvent))}}),"undefined"!=typeof Porthole&&"undefined"!=typeof windowProxy&&setTimeout(function(){windowProxy.addEventListener(window.onMessage_frame)},0),o.PubSub("hidden-query-complete").subscribe(function(){e(),o(".content").each(function(e,a){var r=o(a);r.attr("is-hidden-section")||(r.attr("is-delayed-section")?t(r):r.show())})}),o('script[src$="hiddensections.js"]').length||o.PubSub("hidden-query-complete").publish();var d=o(".google-map");d.length&&d.each(function(e,t){var a=o(t),r=a.find("#map");r.html("<iframe width='100%' height='100%' frameborder='0' style='border:0' src='https://www.google.com/maps/embed/v1/place?key=AIzaSyBlge9UR69rmWsHb7V7-dGDFOv9etdsHPs&q="+encodeURI(r.attr("location"))+"&zoom=15' allowfullscreen></iframe>")}),jQuery(".js_payment_method").parent().on("click",function(){jQuery(this).find(".js_payment_method")[0].click()});var c=jQuery("#disqus");c.length&&void 0!==c.attr("data-code")&&c.append(decodeURI(c.attr("data-code")));var u=jQuery("#facebook");u.length&&(u.find(".fb-comments").attr("data-href",window.location.href),function(e,t,a){var r,i=e.getElementsByTagName(t)[0];e.getElementById(a)||(r=e.createElement(t),r.id=a,r.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.3",i.parentNode.insertBefore(r,i))}(document,"script","facebook-jssdk")),jQuery(document).on("click",".facebook_share, .twitter_share, .pinterest_share, .google_share, .linkedin_share",function(e){e.preventDefault(),r(a(this))});var l=function(){if(jQuery(".js-notification-bar").length>0){var e=jQuery(".js-notification-bar").height();e+=parseInt(jQuery(".js-notification-bar").css("padding-top"),10),e+=parseInt(jQuery(".js-notification-bar").css("padding-bottom"),10),jQuery("body").css({"padding-bottom":e+"px"})}};l(),jQuery(window).resize(function(){setTimeout(l,100)}),jQuery('[data-dismiss="modal"], [data-dismiss="popup-video"]').click(function(e){jQuery(this).closest(".modal").find(".kartra_video").each(function(e,t){var a=jQuery(this).find("iframe")[0];(a.contentWindow?a.contentWindow:a.contentDocument.defaultView).postMessage({func:"pause"},"*")})}),jQuery(".dg_optin").on("click",function(){jQuery(".show_modal_"+jQuery(this).attr("data-optin-pop")).length>0&&window["jquery_"+jQuery(this).attr("data-optin-pop")](".show_modal_"+jQuery(this).attr("data-optin-pop")).trigger("click"),jQuery(".show_modal_own_"+jQuery(this).attr("data-optin-pop")).length>0&&window["jquery_"+jQuery(this).attr("data-optin-pop")](".show_modal_own_"+jQuery(this).attr("data-optin-pop")).trigger("click")});var h=jQuery(".videoWrapper");if(h.length&&-1!==h.find("iframe").attr("src").indexOf("playlist")){var p=h.find("iframe"),f=p.attr("src"),y=f.indexOf("&ratio="),m=f.indexOf("&const="),g=parseFloat(f.slice(y+7,m+1)),_=parseInt(f.slice(m+7,f.length));jQuery(window).on("resize",function(){var e=h.width()*g+_;h.height(e)})}jQuery(".accordion-indicator-icon-element").on("click",function(){jQuery(this).closest(".panel").toggleClass("active-panel"),jQuery(this).closest(".panel").siblings(".panel").removeClass("active-panel")}),jQuery(".panel-title .panel-title-container > a").on("click",function(){jQuery(this).closest(".panel").toggleClass("active-panel"),jQuery(this).closest(".panel").siblings(".panel").removeClass("active-panel")}),i(),jQuery(window).on("resize",i),window.self!==window.top&&-1===document.referrer.indexOf("kartra")&&jQuery("head").append('<base target="_parent">'),jQuery(".cross_btn > a").on("click",function(){jQuery(".content--fixed-bottom").addClass("content--fixed-bottom-hide"),jQuery(".footer-spacer").remove()});var j=document.querySelectorAll("[data-effect]");if("undefined"!=typeof IntersectionObserver&&"undefined"!=typeof MutationObserver)observer=new IntersectionObserver(function(e){function t(e){jQuery(e).addClass(jQuery(e).attr("data-effect")),observer.unobserve(e)}e.forEach(function(e){if(e.intersectionRatio>.5)if("IMG"===e.target.tagName)if(e.target.getAttribute("src")===e.target.getAttribute("data-original"))t(e.target);else{var a=new MutationObserver(function(r){r.forEach(function(r){"src"===r.attributeName&&(t(e.target),a.disconnect())})});a.observe(e.target,{attributes:!0,childList:!1,characterData:!1})}else t(e.target)})},{threshold:[0,.25,.5,.75,1]}),j.forEach(function(e){observer.observe(e)});else for(var w=0,v=j.length;w<v;w++)j[w].style.visibility="visible"}),jQuery(window).on("load",function(){isPageFullyLoaded=!0;var e=isFirstVisit();if(jQuery('[data-screenshot="true"]').each(function(e,t){var a=jQuery("iframe",this).height(),r=jQuery("iframe",this).width(),i=jQuery(this).attr("data-thumbnail");jQuery(this).html('<div class="kartra_video"><img src="'+i+'" width="'+r+'" height="'+a+'"></div>')}),jQuery("a").click(function(e){if(jQuery(this).hasClass("toggle_optin")||jQuery(this).hasClass("toggle_contentbox")){var t=jQuery(this).attr("id");jQuery('[data-button="'+t+'"]').modal("show"),jQuery(".modal-backdrop").addClass("popup-modal")}}),Cookies.set(cookieLocation,!0,{expires:30}),jQuery("#popup_landing").length>0){if("every"===jQuery("#popup_landing").attr("data-reocur")||!0!==e){var t=1e3*parseInt(jQuery("#popup_landing").attr("data-delay"));setTimeout(function(){jQuery("#popup_landing").modal("show"),jQuery(".modal-backdrop").addClass("popup-modal")},t)}}if(jQuery("#popup_exit").length>0){if("every"===jQuery("#popup_exit").attr("data-reocur")||!0!==e)if("close"===jQuery("#popup_exit").attr("data-trigger"))window.onbeforeunload=function(){return jQuery("#popup_landing").modal("hide"),jQuery("#popup_exit").modal("show"),jQuery(".modal-backdrop").addClass("popup-modal"),window.onbeforeunload=null,!1};else{var a=!1;!function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent&&e.attachEvent("on"+t,a)}(document,"mouseout",function(e){if(e=e||window.event,"input"!=e.target.tagName.toLowerCase()){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(!(e.clientX>=t-50||e.clientY>=50)){e.relatedTarget||e.toElement||r()}}});var r=function(){!1===a&&(jQuery("#popup_landing").modal("hide"),jQuery("#popup_exit").modal("show"),jQuery(".modal-backdrop").addClass("popup-modal"),a=!0)}}}if(jQuery("body").on("show.bs.modal",function(e){"true"!==jQuery(e.target).attr("data-autoplay-triggered")&&(jQuery(e.target).attr("data-autoplay-triggered","true"),jQuery(e.target).find("iframe").each(function(e,t){if(jQuery(t).attr("src").indexOf("autop")>-1){var a=jQuery(t).attr("src");a=a.replace(/autoplay=false&amp;/g,""),a=a.replace(/autoplaceholder/g,"autoplay"),a=a.replace(/noautoplay/g,"autoplay"),jQuery(t).attr("src",a)}}))}),jQuery(".toggle_video").on("click",function(){var e=jQuery(this).attr("data-video");if("true"!==jQuery(this).attr("data-video-external"))jQuery(".hidden_video_holder_"+e).find("#preview_video_button").length?jQuery(".hidden_video_holder_"+e).find("#preview_video_button").trigger("click"):jQuery(".popup_trigger_"+e).trigger("click");else{var t=!1,a=function(){if(!t)return!1;var e=.5625*t.width();t.css("height",e+"px"),t[0].contentWindow.postMessage({func:"getSize"},"*")};jQuery(".popup_video_"+e).first().modal("show").off("hide.bs.modal").on("hide.bs.modal",function(){jQuery(this).find("iframe")[0].contentWindow.postMessage({func:"pause"},"*"),jQuery(window).off("resize",a)}).off("shown.bs.modal").on("shown.bs.modal",function(){t=jQuery(this).find("iframe"),a(),jQuery(window).on("resize",a),jQuery(".modal-backdrop").css("opacity",.7),jQuery(".modal-backdrop:not(.popup-modal)").css("z-index",1052),jQuery(this).css("z-index",1053)})}}),jQuery('[data-dismiss="popup-video"]').click(function(e){jQuery(this).parents(".popup-video").modal("hide")}),jQuery(".toggle_playlist").on("click",function(){var e=jQuery(this).attr("data-video");jQuery(".hidden_video_holder_"+e).find("#preview_playlist_button").length?window["kartra_jquery_"+e](".hidden_video_holder_"+e).find("#preview_playlist_button").trigger("click"):window["kartra_jquery_"+e](".popup_trigger_"+e).trigger("click")}),jQuery(".js_checkout_template").length>0){const i={Small:"kartra_checkout_small",Medium:"kartra_checkout_medium",Large:"kartra_checkout_large",Giant:"kartra_checkout_giant"};jQuery(".js_checkout_template").each(function(e,t){var a=jQuery(t).attr("data-kt-value"),r=jQuery(t).attr("class").match(/checkout_tpl_[\w-]*\b/)[0];""!=a&&jQuery.post(secureBaseUrl+"/resource/generateCheckoutForm",{template:r,encrypted_button:a,is_dark:jQuery(t).hasClass("checkout_tpl_dark")},function(e){var r=jQuery.parseHTML(e.html),o=jQuery(t).attr("data-color"),n=void 0==jQuery(t).attr("data-buttonsize")?"Small":jQuery(t).attr("data-buttonsize");$section=jQuery(r),$section.removeClass("kartra_checkout_giant").removeClass("kartra_checkout_large").removeClass("kartra_checkout_small"),$section.addClass(i[n]),$section.find(".js_theme_border").css("border-color",o),$section.find(".js_theme_background").css("background",o),$section.find(".js_theme_border_bottom").css("border-bottom-color",o),$section.find(".js_theme_color").css("color",o),$section.addClass("form_holder"),$section.find('*[class*="col-"], .row').addClass("js_checkout-grid-element");var s=$section.find(".js_kartra_reference_id").val();jQuery(t).html($section),attachKartraCheckoutFormEvents($section.find("form")),kartra_form_init_event(a),actionEvent=new CustomEvent("kartraReferenceIdLoaded",{detail:s}),jQuery(t)[0].dispatchEvent(actionEvent)})})}});